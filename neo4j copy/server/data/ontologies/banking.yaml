# Banking Core Ontology
# For extracting knowledge from banking documents

metadata:
  name: "Banking Core Ontology"
  version: "1.0.0"
  domain: "banking"
  description: "Core banking ontology for customer, account, and transaction management"

entity_types:
  - name: "Customer"
    description: "A person or organization that holds accounts with the bank"
    extraction_strategy: "llm"
    aliases: ["Client", "Account Holder", "Banking Customer"]
    properties:
      - name: "customer_id"
        data_type: "string"
        required: true
        is_identity: true
        description: "Unique customer identifier"
      - name: "customer_type"
        data_type: "string"
        required: true
        validation_rules:
          allowed_values: ["individual", "corporate", "sme"]
      - name: "full_name"
        data_type: "string"
        required: true
        is_pii: true
      - name: "date_of_birth"
        data_type: "date"
        is_pii: true
      - name: "nationality"
        data_type: "string"
      - name: "risk_rating"
        data_type: "string"
        validation_rules:
          allowed_values: ["low", "medium", "high", "prohibited"]
      - name: "kyc_status"
        data_type: "string"
        validation_rules:
          allowed_values: ["pending", "verified", "expired", "rejected"]
      - name: "onboarding_date"
        data_type: "date"

  - name: "Account"
    description: "A financial account held at the bank"
    extraction_strategy: "llm"
    aliases: ["Bank Account", "Financial Account"]
    properties:
      - name: "account_number"
        data_type: "string"
        required: true
        is_identity: true
      - name: "account_type"
        data_type: "string"
        required: true
        validation_rules:
          allowed_values: ["savings", "checking", "current", "fixed_deposit", "loan"]
      - name: "currency"
        data_type: "string"
        required: true
      - name: "balance"
        data_type: "float"
      - name: "status"
        data_type: "string"
        validation_rules:
          allowed_values: ["active", "dormant", "frozen", "closed"]
      - name: "opened_date"
        data_type: "date"
      - name: "branch_code"
        data_type: "string"

  - name: "Transaction"
    description: "A financial transaction between accounts"
    extraction_strategy: "llm"
    aliases: ["Payment", "Transfer", "Financial Transaction"]
    properties:
      - name: "transaction_id"
        data_type: "string"
        required: true
        is_identity: true
      - name: "transaction_type"
        data_type: "string"
        required: true
        validation_rules:
          allowed_values: ["credit", "debit", "transfer", "payment", "withdrawal", "deposit"]
      - name: "amount"
        data_type: "float"
        required: true
      - name: "currency"
        data_type: "string"
        required: true
      - name: "transaction_date"
        data_type: "datetime"
        required: true
      - name: "description"
        data_type: "string"
      - name: "channel"
        data_type: "string"
        validation_rules:
          allowed_values: ["branch", "atm", "online", "mobile", "wire"]

  - name: "Branch"
    description: "A physical bank branch location"
    extraction_strategy: "llm"
    properties:
      - name: "branch_code"
        data_type: "string"
        required: true
        is_identity: true
      - name: "branch_name"
        data_type: "string"
        required: true
      - name: "address"
        data_type: "string"
      - name: "city"
        data_type: "string"
      - name: "country"
        data_type: "string"

  - name: "Product"
    description: "A banking product or service offered"
    extraction_strategy: "llm"
    properties:
      - name: "product_code"
        data_type: "string"
        required: true
        is_identity: true
      - name: "product_name"
        data_type: "string"
        required: true
      - name: "product_category"
        data_type: "string"
        validation_rules:
          allowed_values: ["deposit", "loan", "card", "investment", "insurance"]

relationship_types:
  - name: "OWNS"
    source_types: ["Customer"]
    target_types: ["Account"]
    description: "Customer owns an account"
    cardinality: "one-to-many"

  - name: "INITIATED"
    source_types: ["Account"]
    target_types: ["Transaction"]
    description: "Account initiated a transaction"
    cardinality: "one-to-many"

  - name: "RECEIVED"
    source_types: ["Account"]
    target_types: ["Transaction"]
    description: "Account received a transaction"
    cardinality: "one-to-many"

  - name: "LOCATED_AT"
    source_types: ["Account"]
    target_types: ["Branch"]
    description: "Account is located at a branch"
    cardinality: "many-to-one"

  - name: "SUBSCRIBED_TO"
    source_types: ["Customer"]
    target_types: ["Product"]
    description: "Customer subscribed to a product"
    cardinality: "many-to-many"

  - name: "RELATED_TO"
    source_types: ["Customer"]
    target_types: ["Customer"]
    description: "Customer is related to another customer"
    cardinality: "many-to-many"
    properties:
      - name: "relationship_type"
        data_type: "string"
        validation_rules:
          allowed_values: ["spouse", "parent", "child", "business_partner", "guarantor"]

# Slices for specific use cases
slices:
  - name: "KYC Slice"
    description: "Classes relevant for KYC processes"
    included_classes: ["Customer", "Account"]
    included_relationships: ["OWNS", "RELATED_TO"]
    document_types: ["kyc_form", "id_document", "proof_of_address"]
    use_case: "kyc"

  - name: "Transaction Monitoring Slice"
    description: "Classes for transaction monitoring"
    included_classes: ["Customer", "Account", "Transaction"]
    included_relationships: ["OWNS", "INITIATED", "RECEIVED"]
    use_case: "transaction_monitoring"
